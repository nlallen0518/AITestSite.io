<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Urban Coffee House — an immersive bean-to-cup journey.">
    <title>Urban Coffee House — Bean to Cup</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,500;0,700;0,800;1,500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>
</head>
<body>

    <!-- ═══ LOADER ═══ -->
    <div class="loader" id="loader">
        <div class="loader-inner">
            <svg class="loader-bean" viewBox="0 0 60 80" fill="none">
                <ellipse cx="30" cy="40" rx="24" ry="34" fill="#3d2814"/>
                <path d="M30 12 C28 25, 22 35, 30 40 C38 35, 32 25, 30 12Z" fill="#2a1a0a" opacity="0.5"/>
                <ellipse cx="30" cy="40" rx="24" ry="34" fill="none" stroke="#d4a55a" stroke-width="1" opacity="0.3"/>
            </svg>
            <p class="loader-text">Urban Coffee House</p>
            <div class="loader-bar"><span class="loader-bar-fill" id="loaderFill"></span></div>
        </div>
    </div>

    <!-- ═══ FIXED CINEMATIC LAYERS ═══ -->
    <canvas id="bgCanvas" aria-hidden="true"></canvas>
    <canvas id="ambientCanvas" aria-hidden="true"></canvas>
    <canvas id="particleCanvas" aria-hidden="true"></canvas>

    <div class="vignette" aria-hidden="true"></div>
    <div class="grain" aria-hidden="true"></div>

    <!-- Letterbox bars -->
    <div class="letterbox letterbox-top" aria-hidden="true"></div>
    <div class="letterbox letterbox-bot" aria-hidden="true"></div>

    <!-- Cursor -->
    <div class="cursor-dot" aria-hidden="true"></div>
    <div class="cursor-aura" aria-hidden="true"></div>

    <!-- Journey progress -->
    <div class="journey-bar" aria-hidden="true">
        <span class="journey-fill" id="journeyFill"></span>
    </div>

    <!-- Stage nav -->
    <nav class="stage-nav" id="stageNav">
        <button class="stage-pip active" data-stage="0" aria-label="Origin"><span>Origin</span></button>
        <button class="stage-pip" data-stage="1" aria-label="Roast"><span>Roast</span></button>
        <button class="stage-pip" data-stage="2" aria-label="Grind"><span>Grind</span></button>
        <button class="stage-pip" data-stage="3" aria-label="Extract"><span>Extract</span></button>
        <button class="stage-pip" data-stage="4" aria-label="Pour"><span>Pour</span></button>
        <button class="stage-pip" data-stage="5" aria-label="Atmosphere"><span>Atmosphere</span></button>
        <button class="stage-pip" data-stage="6" aria-label="The Table"><span>The Table</span></button>
    </nav>

    <!-- Stage title flash -->
    <div class="stage-flash" id="stageFlash" aria-hidden="true">
        <span class="stage-flash-text" id="stageFlashText"></span>
    </div>

    <!-- ═══════════════════ JOURNEY ═══════════════════ -->
    <main class="journey" id="journey">

        <!-- ──── S0: ORIGIN ──── -->
        <section class="stage" id="stage0" data-stage="0">
            <div class="stage-visual">
                <canvas id="originCanvas" aria-hidden="true"></canvas>
            </div>
            <div class="stage-content">
                <div class="content-block hero-block">
                    <p class="eyebrow gs-up" data-cms="origin-eyebrow">Chapter One</p>
                    <h1 class="hero-title">
                        <span class="title-line">Urban</span>
                        <span class="title-line">Coffee</span>
                        <span class="title-line">House</span>
                    </h1>
                    <p class="body-lead gs-up" data-cms="origin-lead">Every cup begins as a cherry on a branch, 1,800&nbsp;meters above sea level. Scroll to follow the journey&nbsp;&mdash; from origin to your&nbsp;table.</p>
                    <div class="scroll-cue gs-up">
                        <div class="scroll-cue-icon"><span></span></div>
                        <span>Begin the descent</span>
                    </div>
                </div>
                <div class="content-block">
                    <div class="stat-row gs-stagger">
                        <div class="stat"><span class="stat-num" data-count="6" data-cms="stat-countries">0</span><span class="stat-label">Origin Countries</span></div>
                        <div class="stat"><span class="stat-num" data-count="14" data-cms="stat-farms">0</span><span class="stat-label">Partner Farms</span></div>
                        <div class="stat"><span class="stat-num-text" data-cms="stat-altitude">1800m+</span><span class="stat-label">Altitude</span></div>
                    </div>
                    <p class="body-text gs-up" data-cms="origin-body">We partner with farms across Ethiopia, Colombia, Guatemala, Japan, Kenya, and Brazil&nbsp;&mdash; paying above market, visiting annually, learning&nbsp;always.</p>
                </div>
            </div>
        </section>

        <!-- ──── S1: ROAST ──── -->
        <section class="stage" id="stage1" data-stage="1">
            <div class="stage-visual">
                <div class="roast-scene">
                    <div class="roast-bean" id="roastBean"></div>
                    <div class="heat-ring hr-1"></div>
                    <div class="heat-ring hr-2"></div>
                    <div class="heat-ring hr-3"></div>
                    <div class="heat-ring hr-4"></div>
                    <div class="heat-ring hr-5"></div>
                </div>
            </div>
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="roast-eyebrow">Chapter Two</p>
                    <h2 class="section-title gs-up" data-cms="roast-title">The Roast</h2>
                    <p class="body-lead gs-up" data-cms="roast-lead">Inside the drum at 200&deg;C. Sugars caramelize, acids develop, and over 800 aromatic compounds ignite. Watch the bean transform&nbsp;&mdash; green to golden to deep espresso&nbsp;brown.</p>
                </div>
                <div class="content-block">
                    <div class="card-row gs-stagger" data-cms="roast-cards">
                        <article class="glass-card"><h3>Light Roast</h3><p>Bright acidity, floral notes. Best for pour-over and filter.</p></article>
                        <article class="glass-card"><h3>Medium Roast</h3><p>Balanced sweetness, caramel body. Our house espresso profile.</p></article>
                        <article class="glass-card"><h3>Dark Roast</h3><p>Bold, chocolatey, low acidity. Ideal for milk drinks and cold brew.</p></article>
                    </div>
                    <blockquote class="quote gs-up">
                        <p>&ldquo;Roasting is listening. The beans crack, change color, tell you when they&rsquo;re ready.&rdquo;</p>
                        <cite>&mdash; Alex Chen, Head Roaster</cite>
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- ──── S2: GRIND ──── -->
        <section class="stage" id="stage2" data-stage="2">
            <div class="stage-visual">
                <div class="grind-scene">
                    <svg class="grind-blades" id="grindBlades" viewBox="0 0 400 400" aria-hidden="true">
                        <g id="bladeGroup">
                            <rect x="190" y="20" width="20" height="160" rx="10" fill="rgba(200,215,255,0.18)"/>
                            <rect x="190" y="20" width="20" height="160" rx="10" fill="rgba(200,215,255,0.18)" transform="rotate(45 200 200)"/>
                            <rect x="190" y="20" width="20" height="160" rx="10" fill="rgba(200,215,255,0.18)" transform="rotate(90 200 200)"/>
                            <rect x="190" y="20" width="20" height="160" rx="10" fill="rgba(200,215,255,0.18)" transform="rotate(135 200 200)"/>
                            <rect x="190" y="220" width="20" height="160" rx="10" fill="rgba(200,215,255,0.10)"/>
                            <rect x="190" y="220" width="20" height="160" rx="10" fill="rgba(200,215,255,0.10)" transform="rotate(45 200 200)"/>
                            <rect x="190" y="220" width="20" height="160" rx="10" fill="rgba(200,215,255,0.10)" transform="rotate(90 200 200)"/>
                            <rect x="190" y="220" width="20" height="160" rx="10" fill="rgba(200,215,255,0.10)" transform="rotate(135 200 200)"/>
                            <circle cx="200" cy="200" r="25" fill="none" stroke="rgba(200,215,255,0.2)" stroke-width="2.5"/>
                        </g>
                    </svg>
                </div>
            </div>
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="grind-eyebrow">Chapter Three</p>
                    <h2 class="section-title gs-up" data-cms="grind-title">The Grind</h2>
                    <p class="body-lead gs-up" data-cms="grind-lead">The blades close in. Grind size determines everything&nbsp;&mdash; too coarse and water rushes through, too fine and bitterness takes over. We calibrate every&nbsp;morning.</p>
                </div>
                <div class="content-block">
                    <div class="card-row gs-stagger" data-cms="grind-cards">
                        <article class="glass-card"><h3>Espresso</h3><p>Fine like powdered sugar. 9&nbsp;bars pressure. 25-second pull.</p></article>
                        <article class="glass-card"><h3>Pour Over</h3><p>Medium like sea salt. Gravity-fed. 3.5-minute bloom.</p></article>
                        <article class="glass-card"><h3>Cold Brew</h3><p>Coarse like raw sugar. 12-hour immersion. Zero heat.</p></article>
                    </div>
                </div>
            </div>
        </section>

        <!-- ──── S3: EXTRACT / MENU ──── -->
        <section class="stage" id="stage3" data-stage="3">
            <div class="stage-visual">
                <div class="extract-scene">
                    <div class="portafilter" id="portafilter">
                        <div class="pf-body"></div>
                        <div class="pf-spout"></div>
                        <div class="pf-handle"></div>
                    </div>
                    <div class="espresso-stream" id="espressoStream"></div>
                    <div class="drip-pool" id="dripPool"></div>
                </div>
            </div>
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="extract-eyebrow">The Collection</p>
                    <h2 class="section-title gs-up" data-cms="extract-title">The Menu</h2>
                </div>
                <div class="content-block">
                    <h3 class="menu-category gs-up">Drinks</h3>
                    <div class="menu-grid" id="menuDrinks"></div>
                </div>
                <div class="content-block">
                    <h3 class="menu-category gs-up">Kitchen</h3>
                    <div class="menu-grid" id="menuFood"></div>
                    <p class="menu-note gs-up" data-cms="menu-note">Menu rotates seasonally. Ask about this week&rsquo;s featured single-origin.</p>
                </div>
            </div>
        </section>

        <!-- ──── S4: POUR ──── -->
        <section class="stage" id="stage4" data-stage="4">
            <div class="stage-visual">
                <div class="pour-scene">
                    <div class="cup-topdown" id="cupTopdown">
                        <div class="cup-rim-circle"></div>
                        <div class="cup-liquid"></div>
                        <svg class="latte-art" viewBox="0 0 200 200">
                            <path id="rosettaPath"
                                d="M100,168 C100,168 84,152 80,138 C76,124 79,114 89,109
                                   C99,104 100,114 100,114 C100,114 101,104 111,109
                                   C121,114 124,124 120,138 C116,152 100,168 100,168Z
                                   M100,109 C100,109 88,99 85,89 C82,79 86,73 93,71
                                   C100,69 100,77 100,77 C100,77 100,69 107,71
                                   C114,73 118,79 115,89 C112,99 100,109 100,109Z
                                   M100,77 C100,77 93,69 92,61 C91,53 95,49 100,48
                                   C105,49 109,53 108,61 C107,69 100,77 100,77Z
                                   M100,48 L100,32"
                                fill="none" stroke="rgba(255,248,235,0.8)"
                                stroke-width="2.5" stroke-linecap="round"
                                stroke-dasharray="700" stroke-dashoffset="700"/>
                        </svg>
                    </div>
                    <div class="milk-stream" id="milkStream"></div>
                </div>
            </div>
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="pour-eyebrow">Chapter Five</p>
                    <h2 class="section-title gs-up" data-cms="pour-title">The Pour</h2>
                    <p class="body-lead gs-up" data-cms="pour-lead">Looking down into the cup. Micro-foam at exactly 60&deg;C enters and the rosetta forms. Proof that this cup was made with&nbsp;care.</p>
                </div>
                <div class="content-block">
                    <div class="card-row card-row-2 gs-stagger" data-cms="pour-cards">
                        <article class="glass-card"><h3>Milk Science</h3><p>Steam to 60&deg;C&nbsp;&mdash; the sweet spot where lactose breaks into simple sugars. Any hotter and proteins denature.</p></article>
                        <article class="glass-card"><h3>Plant Alternatives</h3><p>Oat, almond, coconut&nbsp;&mdash; each steamed differently. Full micro-foam on every option.</p></article>
                    </div>
                </div>
            </div>
        </section>

        <!-- ──── S5: ATMOSPHERE ──── -->
        <section class="stage" id="stage5" data-stage="5">
            <div class="stage-visual">
                <div class="atmo-scene">
                    <div class="gallery-reveal" id="galleryReveal">
                        <div class="gallery-grid">
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=900&auto=format&fit=crop')"></div>
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1521017432531-fbd92d768814?q=80&w=900&auto=format&fit=crop')"></div>
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=900&auto=format&fit=crop')"></div>
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=900&auto=format&fit=crop')"></div>
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?q=80&w=900&auto=format&fit=crop')"></div>
                            <div class="gallery-img" style="background-image:url('https://images.unsplash.com/photo-1442512595331-e89e73853f31?q=80&w=900&auto=format&fit=crop')"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="atmosphere-eyebrow">The Space</p>
                    <h2 class="section-title gs-up" data-cms="atmosphere-title">More than a caf&eacute;</h2>
                    <p class="body-lead gs-up" data-cms="atmosphere-lead">The cup opens up and you&rsquo;re here&nbsp;&mdash; concrete floors, walnut counters, morning light flooding the bar. Every detail exists to slow you&nbsp;down.</p>
                    <blockquote class="quote gs-up">
                        <p>&ldquo;The space was designed to feel like a pause&nbsp;&mdash; somewhere between a gallery and a living room.&rdquo;</p>
                        <cite>&mdash; Mira Patel, Interior Architect</cite>
                    </blockquote>
                </div>
            </div>
        </section>

        <!-- ──── S6: THE TABLE ──── -->
        <section class="stage stage-final" id="stage6" data-stage="6">
            <div class="stage-content">
                <div class="content-block">
                    <p class="eyebrow gs-up" data-cms="table-eyebrow">You Made It</p>
                    <h2 class="section-title gs-up" data-cms="table-title">The Table</h2>
                    <p class="body-lead gs-up" data-cms="table-lead">From cherry to cup, you&rsquo;ve seen every step. Now pull up a&nbsp;chair.</p>
                </div>
                <div class="content-block">
                    <div class="table-grid gs-up">
                        <div class="visit-info">
                            <div class="info-item"><h4>Location</h4><p data-cms="location">48 Lexington Row, Downtown District</p></div>
                            <div class="info-item"><h4>Contact</h4><p><span data-cms="phone">+1 (415) 555-0174</span><br><span data-cms="email">hello@urbancoffeehouse.com</span></p></div>
                            <div class="info-item"><h4>Hours</h4><p data-cms="hours">Mon — Fri 7 AM – 10 PM<br>Sat 8 AM – 11:30 PM<br>Sun 8 AM – 9 PM</p></div>
                        </div>
                        <form class="reserve-form" id="reserveForm" novalidate>
                            <h3>Reserve a Table</h3>
                            <label>Name <input type="text" name="name" required placeholder="Your name"></label>
                            <label>Email <input type="email" name="email" required placeholder="you@email.com"></label>
                            <label>Guests <input type="number" name="guests" min="1" max="12" required placeholder="1-12"></label>
                            <label>Date <input type="date" name="date" required></label>
                            <button type="submit" class="btn-reserve">Confirm Reservation</button>
                            <p class="form-msg" id="formMsg" aria-live="polite"></p>
                        </form>
                    </div>
                </div>
                <div class="content-block">
                    <div class="faq-row gs-stagger" data-cms="faq-cards">
                        <div class="glass-card"><h4>Walk-ins?</h4><p>Always welcome. Reservations guarantee seating during peak.</p></div>
                        <div class="glass-card"><h4>Wi-Fi?</h4><p>Fast and free. Laptop-friendly after 2 PM weekdays.</p></div>
                        <div class="glass-card"><h4>Beans to go?</h4><p>Every origin available in 250g bags. Ground to your method.</p></div>
                    </div>
                    <p class="closing gs-up" data-cms="closing">See you at the bar. &#10022;</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="site-footer"><span data-cms="footer">&copy; 2026 Urban Coffee House</span><a href="admin.html" class="admin-link">Manage</a></footer>

    <script src="cms.js"></script>
    <script src="app.js"></script>
</body>
</html>
